{% extends 'base.html' %} 

{% block title %} | Patient {% endblock %} 

{% block content %}

<!-- Content -->

<form class="row" method="get" action="query/0">
  <div class="container">
    <div class="row">
      <div class="input-field">
        <input
          type="text"
          name="patient_search"
          autofocus
        />
        <label class="active" for="first_name2">Search Patient</label>
      </div>
    </div>
    <div class="row">
      <button class="waves-effect waves-light btn-small" type="submit">
        <i class="material-icons right">arrow_forward</i>Search
      </button>
      <a
        class="waves-effect waves-light btn-small orange darken-4"
        style="float: right"
        href="{% url 'patient_add' %}"
      >
        <i class="material-icons right">add</i>Create New Patient
      </a>
    </div>
  </div>
</form>


{% if patient_list.count == 0 %}
<script>
  $(document).ready(function(){
    M.toast({html: 'No Patient Found'})
  });
</script>

{% else %}

<div class="container">
  <div style="font-size: 80%; color: grey">
    &nbsp;Showing {{ patient_list.count }} results from {{ start_index }} to {{ end_index }}
  </div>
  <div class="collection">
    <!-- Start Collection -->

    {% for patient in patient_list %}
    <!-- 
        {{patient.patient_name}}
        {{patient.identify_number}}
        {% url 'patient_details' patient.pk %}
      -->
    <a href="{% url 'patient_details' patient.pk %}" class="collection-item"
      >{{patient.patient_name}}<span class="badge"
        >ID: {{patient.identify_number}}</span
      ></a
    >
    {% endfor %}
  </div>
</div>
{% endif %}
<!-- End of Content -->
{% endblock %}
